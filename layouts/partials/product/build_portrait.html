<div class="product-container" style="margin-bottom: 10%">

<h3 style="margin: 30px 0;">Step 1: Upload a photo!</h3>
<input
type="hidden"
role="uploadcare-uploader"
data-images-only="true"
data-preview-step="true" />

<h3 style="margin: 30px 0;">Step 2: Choose a size</h3>
<img 
src="../../images/canvas-ref.jpg"
style="width: 45%;">

    <form id="portrait-form">
        <select
        required 
        name="size-select"
        style="margin-top: 20px; width: 45%">
            <option disabled hidden selected>Select canvas size</option>
            <option value='08x10'>8" width X 10" height</option>
            <option value='09x12'>9" width X 12" height</option>
            <option value='11x14'>11" width X 14" height</option>
            <option value='12x16'>12" width X 16" height</option>
            <option value='16x20'>16" width X 20" height</option>"
        </select>

        <div style="margin-bottom: 20px;">
        <h3 style="margin:20px 0;">Step 3: Select Black & White or Full Color</h3>
        <label for='fc'>
            <input type='radio' id='bw' name='color-select' value='BW' required>
            Black & White
        </label><br>
        <label for='fc'>
            <input type='radio' id='fc' name='color-select' value='FC' required>
            Full Color
        </label><br>
        </div>
        
    </form>

    <a
    id="add-to-order"
    submit
    href="#"
    class="clayer-add-to-bag"
    data-sku-name="Select Size/Color Preference"
    data-sku-code="Select Size/Color Preference"
    data-sku-reference="Upload a photo to update the filename reference"
    data-sku-image-url="Upload a photo to update the upload URL"
    >Add to Cart</a>

</div>

<div id="clayer-shopping-bag-container">
    <table class="table is-fullwidth">
      <thead>
        <tr>
          <th colspan="2">SKU</th>
          <th>Reference</th>
          <th>Unit price</th>
          <th>Qty</th>
          <th>Total</th>
          <th></th>
        </tr>
      </thead>
      <tbody id="clayer-shopping-bag-items-container">
      </tbody> 
      <template id="clayer-shopping-bag-item-template">
        <tr>
          <td>
            <img class="clayer-shopping-bag-item-image"></img>
          </td>
          <td class="clayer-shopping-bag-item-name"></td>
          <td class="clayer-shopping-bag-item-reference"></td>
          <td class="clayer-shopping-bag-item-unit-amount"></td>
          <td class="clayer-shopping-bag-item-qty-container">
            <!-- The unavailable message template is appended to the element
                  below if customer selects a quantity that is not available  -->
            <span class="clayer-shopping-bag-item-availability-message-container"></span>
          </td>
          <td class="clayer-shopping-bag-item-total-amount"></td>
          <td>
            <a href="#" class="clayer-shopping-bag-item-remove">remove</a>
          </td>
        </tr>
      </template>
    </table>

    <table class="table is-fullwidth">
      <tr>
        <td>Subtotal</td>
        <td class="clayer-shopping-bag-subtotal"></td>
      </tr>
      <tr>
        <td>Shipping</td>
        <td class="clayer-shopping-bag-shipping"></td>
      </tr>
      <tr>
        <td>Total</td>
        <td class="clayer-shopping-bag-total"></td>
      </tr>
    </table>
  </div>

  <script>
    // find this user's order ID to attach to an image later
    function getOrderId() {
      let userOrderId;
      let orderLink = document.querySelector("#articleHero > a");
      if (orderLink){
        let orderQueryString = orderLink.href.split("?");
        if (orderQueryString && orderQueryString.length > 1){
          let orderId = orderQueryString[1].split("=");
          if (orderId && orderId.length > 1){
            userOrderId = orderId[1];
            document.getElementById("userOrderId").innerText=userOrderId;
            return userOrderId;
          }
        }
      }        
    }
  </script>
  <!-- Checkout button -->
  <a href="#" class="clayer-shopping-bag-checkout" onload="getOrderId()">Proceed to checkout</a>
</section>


{{ $script := resources.Get "js/uploadcare.js" }}
<script src="{{ $script.RelPermalink }}"></script>